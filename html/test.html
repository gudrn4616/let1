<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <!-- jQuery 라이브러리 추가 -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>

<body>
    <button class="button" type="button">현재 날씨는?</button>
    <dl>
        <dt>기온</dt>
        <dd class="temperature"></dd>
        <dt>위치</dt>
        <dd class="place"></dd>
        <dt>설명</dt>
        <dd class="description" id="iconImage"></dd>
    </dl>
</body>
<script>
    const Seoul_lat = '37.715133';
    const Seoul_lon = '127.269311';
    const apiKey = '8b161e0472aad65a860b7a5f202b1359';
    const apiurl = `https://api.openweathermap.org/data/2.5/weather?lat=${Seoul_lat}&lon=${Seoul_lon}&lang=kr&units=metric&appid=${apiKey}`;

    let weather_info = {
        'description': 'tkd',
        'icon': 'iconImage',
        'temp': 0
    };

    fetch(apiurl).then(res => res.json()).then(data => {
        weather_info['description'] = data['weather'][0]['description']; // 날씨 상태
        weather_info['icon'] = data['weather'][0]['icon']; // 날씨 아이콘
        weather_info['temp'] = data['main']['temp']; // 온도

        // jQuery를 사용하여 날씨 정보를 업데이트
        $('.description').text(weather_info['description']);
        $('.temperature').text(`${weather_info['temp']}°C`);

        // 아이콘 URL 생성 및 추가
        const iconURL = `http://openweathermap.org/img/wn/${weather_info['icon']}@2x.png`;
        let icon = `<img src=${iconURL} alt="weather icon"></img>`;
        $('#iconImage').append(icon);
    }).catch(error => console.log('Error:', error));
</script>

</html>